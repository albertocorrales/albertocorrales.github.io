<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Circuit Breakers to handle failures in serverless applications" /><meta property="og:locale" content="en" /><meta name="description" content="Introduction" /><meta property="og:description" content="Introduction" /><link rel="canonical" href="https://albertocorrales.com/posts/Circuit-Breakers-to-handle-failures-in-serverless-applications/" /><meta property="og:url" content="https://albertocorrales.com/posts/Circuit-Breakers-to-handle-failures-in-serverless-applications/" /><meta property="og:site_name" content="Alberto Corrales Garcia" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-13T09:31:14+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Circuit Breakers to handle failures in serverless applications" /><meta name="twitter:site" content="@albertocorralex" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-13T09:31:14+02:00","datePublished":"2022-06-13T09:31:14+02:00","description":"Introduction","headline":"Circuit Breakers to handle failures in serverless applications","mainEntityOfPage":{"@type":"WebPage","@id":"https://albertocorrales.com/posts/Circuit-Breakers-to-handle-failures-in-serverless-applications/"},"url":"https://albertocorrales.com/posts/Circuit-Breakers-to-handle-failures-in-serverless-applications/"}</script><title>Circuit Breakers to handle failures in serverless applications | Alberto Corrales Garcia</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Alberto Corrales Garcia"><meta name="application-name" content="Alberto Corrales Garcia"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://albertocorrales.com/assets/img/profile_pic.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Alberto Corrales Garcia</a></div><div class="site-subtitle font-italic">Software Development, Architecture, Cloud and Technology</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/albertocorrales" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/albertocorralex" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['albertocorralesgarcia','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Circuit Breakers to handle failures in serverless applications</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Circuit Breakers to handle failures in serverless applications</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1655105474" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 13, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/albertocorralex">Alberto Corrales Garcia</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1038 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><h2 id="introduction"><span class="mr-2">Introduction</span><a href="#introduction" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>When you are developing micro-services, you might find that there might be some dependencies which could fail or be temporary unavailable. Examples of these dependencies are calls to other services, data stores, etc. These dependencies might be unavailable for multiple reasons such as maintenance, throttling, etc.</p><p>The idea behind the circuit breaker pattern is wrapping the dependency, so if there is a consistent failure, we temporary stop trying to call the dependency and instead we can have define an alternative fallback function.</p><p>Normally a circuit breaker can be in three different states:</p><ul><li><strong>Closed</strong>: we call the dependency as usual. If there are failures, we track them and we open the circuit if a defined threshold is reached.<li><strong>Open</strong>: instead of calling the dependency, we call the fallback function. If we don’t define a fallback function, it will fail early, without calling the dependency. This can prevent overloading an unhealthy dependent service or data store. While the circuit breaker is OPEN, if we reach a timeout, we will change the status to HALF.<li><strong>Half (open)</strong>: if the request is successful, the status will change to CLOSED and it will start processing all incoming requests. However, if the requests are still failing, the CircuitBreaker will change to OPEN.</ul><p>The following diagram illustrates the different statuses and transitions:</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhmZx-1nDU4IIe5z9LCSwObYMErpXh0bU2crNGWpc5voz68fp81dadEi978qdnFGR7MbvkfpkvmItvH61mGd98H1dpk5jSUgXp237Sw5VnjM07l4h3g8Zj7InbO_cORGKcWKN72v01dC6MB0EcjB5LH45H1JCl7Jadm2RHB6l3zZjZgnZdJ_0fwNZ98/s999/Circuit%20Breakers%20-%20Page%202.png"><img data-src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhmZx-1nDU4IIe5z9LCSwObYMErpXh0bU2crNGWpc5voz68fp81dadEi978qdnFGR7MbvkfpkvmItvH61mGd98H1dpk5jSUgXp237Sw5VnjM07l4h3g8Zj7InbO_cORGKcWKN72v01dC6MB0EcjB5LH45H1JCl7Jadm2RHB6l3zZjZgnZdJ_0fwNZ98/w640-h325/Circuit%20Breakers%20%20Page%202.png" alt="" data-proofer-ignore></a></p><h2 id="proposed-architecture-for-serverless-applications"><span class="mr-2">Proposed Architecture for serverless applications</span><a href="#proposed-architecture-for-serverless-applications" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The Circuit Breaker pattern is a well know pattern and some popular libraries such us Polly (<a href="https://github.com/App-vNext/Polly">https://github.com/App-vNext/Polly</a>) implement this pattern. In the implementation offered by Polly, the status of the circuit breaker is persisted in memory. This works well for single instance services, but if we are running multiple instances of the service concurrently, you need to share the status of the circuit breaker, so all the instances are consistently handling the circuit breaker. This applies for AWS lambda functions or ECS if we are running multiple nodes in parallel. For lambdas, you also have to bear in mind that if the lambda gets cold, it will erase the memory. For that reason it is important to persist the status of the circuit breaker.</p><p>Regarding implementations more focus on serverless, I found <a href="https://github.com/gunnargrosch/circuitbreaker-lambda">this implementation</a> written in Node.js. Since our micro-services are implanted using .NET 6, I couldn’t use a node.js implementation. In addition, that implementation is meant to work at lambda level and for my scenario I wanted something more generic, which can be used by any service and any dependency.</p><p>Regarding the persistence, in order to have lower latency reading/updating the state, we decided to store the status of the circuit breaker in <a href="https://aws.amazon.com/memorydb/">Amazon MemoryDB</a>, which is based on Redis with persistent storage. The object we store to persist the status is really small and we want to make the storage as performant as possible. That is the reason why Amazon MemoryDB can be a better candidate than DynamoDB for storing circuit breaker objects.</p><p>Based on those principles, the proposed architecture is displayed in the following diagram, where a lambda might have two circuit breaker to manage two dependencies and persist the status in Amazon MemoryDB. In the diagram we see a lambda which has two dependencies, Amazon ElasticSearch and a external API, so we can define one circuit breaker for each one. In addition, we can also define a fallback function for each dependency, the failure handling process could be different depending on the dependency.</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjLlzC2z4bWMbauJglujwYwxBkVc_T5REErZt8f9iMm95HP6EPcVcV8-uIH6VTqXmHRFd8sf-dXPWIfHJ-C_khc-j48VKrhebTeA80lgtGZ1MuGtOc_mnEkrGu1tccxHZeXiKa2yg69aDEsRQ6lV_RoWJZr_QKLkgAPRb9glYviM2xOBqpAVfyPGBy9/s1151/Circuit%20Breakers%20-%20Page%201.png"><img data-src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjLlzC2z4bWMbauJglujwYwxBkVc_T5REErZt8f9iMm95HP6EPcVcV8-uIH6VTqXmHRFd8sf-dXPWIfHJ-C_khc-j48VKrhebTeA80lgtGZ1MuGtOc_mnEkrGu1tccxHZeXiKa2yg69aDEsRQ6lV_RoWJZr_QKLkgAPRb9glYviM2xOBqpAVfyPGBy9/w640-h434/Circuit%20Breakers%20-%20Page%201.png" alt="" data-proofer-ignore></a></p><h2 id="net-6-implementation"><span class="mr-2">.NET 6 implementation</span><a href="#net-6-implementation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>You can find the full source code of this implementation on my GitHub repository: <a href="https://github.com/albertocorrales/circuitbreaker-dotnet">https://github.com/albertocorrales/circuitbreaker-dotnet</a>.</p><p>First of all, you need to configure the dependency injection</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">internal</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">RegisterCircuitBreakers</span><span class="p">(</span><span class="k">this</span> <span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">,</span> <span class="n">IConfiguration</span> <span class="n">configuration</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">services</span><span class="p">.</span><span class="n">Configure</span><span class="p">&lt;</span><span class="n">ElastiCacheConfig</span><span class="p">&gt;(</span><span class="n">configuration</span><span class="p">.</span><span class="nf">GetSection</span><span class="p">(</span><span class="s">"CircuitBreaker"</span><span class="p">));</span>
    <span class="n">services</span><span class="p">.</span><span class="n">AddSingleton</span><span class="p">&lt;</span><span class="n">ICircuitBreakerFactory</span><span class="p">,</span> <span class="n">CircuitBreakerFactory</span><span class="p">&gt;();</span>
    <span class="n">services</span><span class="p">.</span><span class="n">AddSingleton</span><span class="p">&lt;</span><span class="n">ICircuitBreakerRepository</span><span class="p">,</span> <span class="n">CircuitBreakerRepositoryElastiCache</span><span class="p">&gt;();</span>
<span class="p">}</span>
</pre></table></code></div></div><p>For the persistence, we have a generic repository defined by the interface <a href="https://github.com/albertocorrales/circuitbreaker-dotnet/blob/main/CircuitBreaker/Abstractions/ICircuitBreakerRepository.cs">ICircuitBreakerRepository</a>. Then we could implement other persistence storages if we want to. For this implementation, as it was discussed above, we are using MemoryDB, so the implementation of the repository is provided by the class <a href="https://github.com/albertocorrales/circuitbreaker-dotnet/blob/main/CircuitBreaker/ElastiCache/Repository/CircuitBreakerRepositoryElastiCache.cs">CircuitBreakerRepositoryElastiCache</a>.</p><p>In addition, we are injecting the class <a href="https://github.com/albertocorrales/circuitbreaker-dotnet/blob/main/CircuitBreaker/Factory/CircuitBreakerFactory.cs">CircuitBreakerFactory</a>, so we just need to have this dependency in the classes where we are using circuit breakers.</p><p>Then you can use it in your Web APIs, Lambdas, etc. For example in a Web API controller, we can it as follows:</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">MyController</span> <span class="p">:</span> <span class="n">ControllerBase</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="n">ICircuitBreakerFactory</span> <span class="n">_circuitBreakerFactory</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">MyController</span> <span class="p">(</span><span class="n">ICircuitBreakerFactory</span> <span class="n">circuitBreakerFactory</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_circuitBreakerFactory</span> <span class="p">=</span> <span class="n">circuitBreakerFactory</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IActionResult</span><span class="p">&gt;</span> <span class="nf">MyMethod</span><span class="p">([</span><span class="n">FromBody</span><span class="p">]</span> <span class="n">RequestModel</span> <span class="n">request</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">circuitBreakerOptions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CircuitBreakerOptions</span><span class="p">&lt;</span><span class="n">ResultModel</span><span class="p">&gt;(</span><span class="s">"circuit-breaker-id-123"</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span>  <span class="nf">asyncFunction</span><span class="p">(</span><span class="n">request</span><span class="p">));</span>
        <span class="kt">var</span> <span class="n">circuitBreaker</span> <span class="p">=</span> <span class="n">_circuitBreakerFactory</span><span class="p">.</span><span class="n">CreateCircuitBreaker</span><span class="p">&lt;</span><span class="n">ResultModel</span><span class="p">&gt;(</span><span class="n">circuitBreakerOptions</span><span class="p">);</span>

        <span class="k">return</span> <span class="k">await</span> <span class="n">circuitBreaker</span><span class="p">.</span><span class="nf">Fire</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>In the model <a href="https://github.com/albertocorrales/circuitbreaker-dotnet/blob/main/CircuitBreaker/Abstractions/CircuitBreakerOptions.cs">CircuitBreakerOptions</a>, we can configure the following properties:</p><ul><li><strong>CircuitBreakerId</strong> (required): id for the circuit breaker. This value has to be unique, but we could also use the same value if for example we want to use the same circuit breaker in two places. (For example, if EventStore is down, it might affect projections and commands).<li><strong>Request</strong> (required): function to wrap under the circuit breaker.<li><strong>FailureThreshold</strong>: number of failure executions that should happen until the circuit is OPEN.<li><strong>SuccessThreshold</strong>: number of successful executions to change the status of the circuit breaker to CLOSED.<li><strong>Timeout</strong>: number of milliseconds to try a new request since the circuit breaker changed to OPEN.<li><strong>Fallback</strong>: alternative function to execute if the main function fails or the circuit breaker is OPEN.</ul><p>On the other hand, the <a href="https://github.com/albertocorrales/circuitbreaker-dotnet/blob/main/CircuitBreaker/Abstractions/CircuitBreakerModel.cs">CircuitBreakerModel</a> that we persists, it is defined by the following properties:</p><ul><li><strong>Id</strong>: unique id to identify the circuit breaker<li><strong>Status</strong>: current status of the circuit breaker (open, closed or half)<li><strong>FailureCount</strong>: number of consecutive failure requests<li><strong>SuccessCount</strong>: number of consecutive successful requests<li><strong>NextAttempt</strong>. datetime when the circuit breaker is closed and we should try next time.</ul><h2 id="conclusions"><span class="mr-2">Conclusions</span><a href="#conclusions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In this article we have seen the importance of managing failures properly in your applications with circuit breakers. In addition, we discussed about the reason why multi-node applications should persist the status of the circuit breakers, so all the instances can work consistently.</p><p>Finally, we have seen an implementation for .NET 6, which helps us to manage and persist our circuit breakers. The implementation is flexible and it allows us to define multiple circuit breakers and handle them independently. Furthermore, we can use MemoryDB as persistent storage or implement our own repository.</p></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/patterns/" class="post-tag no-text-decoration" >patterns</a> <a href="/tags/cloud/" class="post-tag no-text-decoration" >cloud</a> <a href="/tags/architecture/" class="post-tag no-text-decoration" >architecture</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Circuit+Breakers+to+handle+failures+in+serverless+applications+-+Alberto+Corrales+Garcia&url=https%3A%2F%2Falbertocorrales.com%2Fposts%2FCircuit-Breakers-to-handle-failures-in-serverless-applications%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Circuit+Breakers+to+handle+failures+in+serverless+applications+-+Alberto+Corrales+Garcia&u=https%3A%2F%2Falbertocorrales.com%2Fposts%2FCircuit-Breakers-to-handle-failures-in-serverless-applications%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Falbertocorrales.com%2Fposts%2FCircuit-Breakers-to-handle-failures-in-serverless-applications%2F&text=Circuit+Breakers+to+handle+failures+in+serverless+applications+-+Alberto+Corrales+Garcia" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Getting-starting-with-MCPs/">Getting started with MCPs, add super powers to your AI assistant</a><li><a href="/posts/Build-your-own-MCP/">Level Up Your AI Skills, Build a Custom MCP from Scratch</a><li><a href="/posts/Copier-template-projects/">Build Microservices at speed light with Copier</a><li><a href="/posts/CI-CD-pipelines-as-code-with-Nuke-build/">CI/CD pipelines-as-code with Nuke</a><li><a href="/posts/Working-with-event-sourcing-and-web-sockets/">Working with Event Sourcing, CQRS and Web Sockets on AWS</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/ai-assistant/">AI assistant</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/architecture/">Architecture</a> <a class="post-tag" href="/tags/claude/">Claude</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/cqrs/">CQRS</a> <a class="post-tag" href="/tags/event-sourcing/">event sourcing</a> <a class="post-tag" href="/tags/eventstoredb/">EventStoreDB</a> <a class="post-tag" href="/tags/llm/">LLM</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Dropping-the-cost-of-dynamodb/"><div class="card-body"> <em class="small" data-ts="1661680800" data-df="ll" > Aug 28, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Dropping the cost of DynamoDB</h3><div class="text-muted small"><p> Introduction DynamoDB is the most popular NoSql database on AWS. It allows you to easily build high performant applications taking care of the good practices, such as: encryption, access control, ...</p></div></div></a></div><div class="card"> <a href="/posts/Build-your-own-MCP/"><div class="card-body"> <em class="small" data-ts="1752400800" data-df="ll" > Jul 13, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Level Up Your AI Skills, Build a Custom MCP from Scratch</h3><div class="text-muted small"><p> Introduction In our previous article, we explored the Model Context Protocol (MCP) and learned how to use existing MCP servers to extend Claude’s capabilities. Today, we’ll take the next step and ...</p></div></div></a></div><div class="card"> <a href="/posts/Getting-starting-with-MCPs/"><div class="card-body"> <em class="small" data-ts="1750586400" data-df="ll" > Jun 22, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Getting started with MCPs, add super powers to your AI assistant</h3><div class="text-muted small"><p> Introduction As AI assistants become increasingly integrated into our development workflows, the need for standardized ways to extend their capabilities has become paramount. Enter the Model Conte...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/AWS-assuming-role-+-MFA-with-pulumi-(and-other-applications)/" class="btn btn-outline-primary" prompt="Older"><p>AWS assuming role + MFA with pulumi (and other applications)</p></a> <a href="/posts/Migrate-blogspot-to-github-pages/" class="btn btn-outline-primary" prompt="Newer"><p>Migrating your blog from Blogspot to Github pages</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/albertocorralex">Alberto Corrales Garcia</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/ai-assistant/">AI assistant</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/architecture/">Architecture</a> <a class="post-tag" href="/tags/claude/">Claude</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/cqrs/">CQRS</a> <a class="post-tag" href="/tags/event-sourcing/">event sourcing</a> <a class="post-tag" href="/tags/eventstoredb/">EventStoreDB</a> <a class="post-tag" href="/tags/llm/">LLM</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
